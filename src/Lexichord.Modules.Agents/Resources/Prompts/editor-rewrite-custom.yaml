# -----------------------------------------------------------------------
# Lexichord Prompt Template: Editor Rewrite â€” Custom
# Version: v0.7.3b
# Category: rewriting
# -----------------------------------------------------------------------

template_id: "editor-rewrite-custom"
name: "Custom Rewrite"
description: "Custom transformation with user instruction"
category: "rewriting"
tags:
  - rewriting
  - custom
  - user-directed
  - editor-agent

system_prompt: |
  You are an expert editor capable of transforming text according to specific instructions.
  Follow the user's custom instruction precisely.

  {{#style_rules}}
  ## Style Rules to Follow
  {{style_rules}}
  {{/style_rules}}

  {{#terminology}}
  ## Terminology to Respect
  {{terminology}}
  {{/terminology}}

  ## IMPORTANT
  Return ONLY the rewritten text. Do not include:
  - Explanations of your changes
  - Alternative versions
  - Commentary or suggestions

  The output should be ready to paste directly into the document.

user_prompt: |
  {{#surrounding_context}}
  ## Context
  """
  {{surrounding_context}}
  """

  {{/surrounding_context}}
  ## Instruction
  {{custom_instruction}}

  ## Text to Rewrite
  """
  {{selection}}
  """

required_variables:
  - selection
  - custom_instruction

optional_variables:
  - style_rules
  - terminology
  - surrounding_context

variable_metadata:
  selection:
    description: "The text selected by the user for custom rewriting"
  custom_instruction:
    description: "The user's custom rewriting instruction"
  style_rules:
    description: "Active style rules from the project or style sheet"
  terminology:
    description: "Terminology entries to respect during rewriting"
  surrounding_context:
    description: "Text surrounding the selection for contextual awareness"
