<UserControl x:Class="Lexichord.Modules.Agents.Views.SelectionContextIndicator"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- v0.6.7a: Selection Context Indicator
         Displays active selection context in the Co-pilot chat panel.
         Shows selection summary, preview text, and a clear button.
         Visibility is driven by HasSelectionContext binding. -->

    <Border IsVisible="{Binding HasSelectionContext}"
            Classes="selectionContext"
            Padding="8"
            CornerRadius="4"
            Margin="8,0,8,8">

        <Grid ColumnDefinitions="Auto,*,Auto">
            <!-- Icon -->
            <PathIcon Grid.Column="0"
                      Data="{StaticResource IconPaperclip}"
                      Width="14" Height="14"
                      Margin="0,0,8,0"/>

            <!-- Context Summary -->
            <StackPanel Grid.Column="1" Spacing="2">
                <TextBlock Text="{Binding SelectionSummary}"
                           FontWeight="SemiBold"
                           FontSize="12"/>
                <TextBlock Text="{Binding SelectionPreview}"
                           FontSize="11"
                           Opacity="0.7"
                           TextTrimming="CharacterEllipsis"
                           MaxLines="1"/>
            </StackPanel>

            <!-- Clear Button -->
            <Button Grid.Column="2"
                    Command="{Binding ClearSelectionContextCommandCommand}"
                    Classes="ghost small">
                <PathIcon Data="{StaticResource IconClose}"
                          Width="12" Height="12"/>
            </Button>
        </Grid>
    </Border>
</UserControl>
