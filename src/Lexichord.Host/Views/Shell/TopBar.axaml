<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Lexichord.Host.ViewModels"
             x:Class="Lexichord.Host.Views.Shell.TopBar"
             x:DataType="vm:OpenRecentMenuViewModel">

    <!--
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    TOP BAR
    Application title bar with branding and optional controls.

    LOGIC: Uses SurfaceElevatedBrush for visual separation from content area.
    Border at bottom provides subtle divider line.
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    -->

    <Border Background="{DynamicResource SurfaceElevatedBrush}"
            BorderBrush="{DynamicResource BorderSubtleBrush}"
            BorderThickness="0,0,0,1"
            Padding="16,0">

        <Grid ColumnDefinitions="Auto,*,Auto" Height="48">

            <!-- Left: Application Title -->
            <StackPanel Grid.Column="0"
                        Orientation="Horizontal"
                        VerticalAlignment="Center"
                        Spacing="12">

                <!-- Logo placeholder (future: actual icon) -->
                <TextBlock Text="ðŸŽ¼"
                           FontSize="20"
                           VerticalAlignment="Center" />

                <!-- Application Name -->
                <TextBlock Text="Lexichord"
                           FontSize="{StaticResource FontSizeLG}"
                           FontWeight="SemiBold"
                           Foreground="{DynamicResource TextPrimaryBrush}"
                           VerticalAlignment="Center" />

                <!-- Tagline (subtle) -->
                <TextBlock Text="â€” The Orchestrator"
                           FontSize="{StaticResource FontSizeMD}"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           VerticalAlignment="Center" />

                <!-- LOGIC (v0.1.4d): Menu Bar with File menu -->
                <Menu VerticalAlignment="Center" 
                      FontSize="{StaticResource FontSizeMD}"
                      Margin="24,0,0,0">
                    <MenuItem Header="_File">
                        <!-- Open Recent submenu - populated from OpenRecentMenuViewModel -->
                        <MenuItem Header="Open _Recent" 
                                  x:Name="OpenRecentMenuItem"
                                  ItemsSource="{Binding RecentFiles}">
                            <MenuItem.ItemTemplate>
                                <DataTemplate x:DataType="vm:RecentFileMenuItemViewModel">
                                    <TextBlock Text="{Binding DisplayText}" 
                                               ToolTip.Tip="{Binding ToolTip}"/>
                                </DataTemplate>
                            </MenuItem.ItemTemplate>
                            <MenuItem.Styles>
                                <Style Selector="MenuItem > MenuItem" x:DataType="vm:RecentFileMenuItemViewModel">
                                    <Setter Property="Command" Value="{Binding OpenCommand}"/>
                                    <Setter Property="IsEnabled" Value="{Binding IsEnabled}"/>
                                </Style>
                            </MenuItem.Styles>
                        </MenuItem>
                        <MenuItem Header="_Clear Recent Files" 
                                  Command="{Binding ClearHistoryCommand}"
                                  IsEnabled="{Binding HasRecentFiles}"/>
                        <Separator/>
                        <MenuItem Header="_Exit" 
                                  Click="OnExitClick"
                                  InputGesture="Alt+F4"/>
                    </MenuItem>
                </Menu>
            </StackPanel>

            <!-- Center: Spacer (future: document tabs) -->
            <Border Grid.Column="1" />

            <!-- Right: Window controls placeholder -->
            <StackPanel Grid.Column="2"
                        Orientation="Horizontal"
                        VerticalAlignment="Center"
                        Spacing="8">
                <!-- Future: Search, notifications, user menu -->
            </StackPanel>

        </Grid>
    </Border>

</UserControl>
